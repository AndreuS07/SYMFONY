{% extends 'base.html.twig' %}

{% block title %}Cart{% endblock %}

{% block body %}
<style>
h1{
    margin-left: 2.5%;
}

.container {
    display: flex;
    justify-content: space-between;
}

.cart-container,
.products-container {
    width: 48%; /* Se ajusta el ancho de los contenedores */
    padding: 20px;
   
}

.products2 {
    width: 48%; /* Se ajusta el ancho de la secci√≥n de productos */
    margin-top: 2%;
     margin-left: 2%;
}

.product h2 {
    margin-bottom: 2%;
}

.cart h2, .product h2 {
    border-bottom: 2px solid #333;
    
    margin-top: -53.5%;
    margin-left: 62%;
    margin-right: 10%;
}

.product {
    border: 1px solid #ddd;
    padding: 15px;
    margin: 10px;
    text-align: center;
}

.add-to-cart-btn {
    background-color: #4CAF50;
    color: white;
    padding: 10px;
    border: none;
    cursor: pointer;
    margin-top: -57%;
    
    
}

#cart-items {
    list-style: none;
    padding: 0;
    margin-left: 2%;
    
    margin-left: 2%
}

#cart-items li {
    margin: 10px 0;
    margin-bottom: 0.2px;
    margin-left: 65%
}

#cart-total {
    margin-top: 20px;
    margin-left: 63%

}

#checkout-btn {
    background-color: #007BFF;
    color: white;
    padding: 10px;
    border: none;
    cursor: pointer;
    margin-top: 10px;
    margin-bottom: 45%;
    margin-left: 63%
}

#checkout-btn:hover {
    background-color: #0056b3;
}


</style>

    <!-- Header Section -->
    <header>
        <h1>Coffee Cart</h1>
    </header>

    <!-- Coffee Products Section -->
    <section class="products2">
        <h2>Coffee Selection</h2>
        <div class="product" data-name="Black Coffee (Hot)" data-price="2.00">
            <h3>Black Coffee (Hot)</h3>
            <p>$2.00</p>
            <button class="add-to-cart-btn">Add to Cart</button>
        </div>
        <!-- Add more products as needed -->

<div class="product" data-name="Chocolete Coffee (Hot)" data-price="7.00">
            <h3>Chocolete Coffee (Hot)</h3>
            <p>$7.00</p>
            <button class="add-to-cart-btn">Add to Cart</button>
        </div>
        <div class="product" data-name="Coffee With Milk (Hot)" data-price="9.00">
            <h3>Coffee With Milk (Hot)</h3>
            <p>$9.00</p>
            <button class="add-to-cart-btn">Add to Cart</button>
        </div>
        <div class="product" data-name="White Coffee (Cold)" data-price="4">
            <h3>White Coffee (Cold)</h3>
            <p>$4.00</p>
            <button class="add-to-cart-btn">Add to Cart</button>
        </div>
        <div class="product" data-name="Chocolete White Coffee (Cold)" data-price="8">
            <h3>Chocolete White Coffee (Cold)</h3>
            <p>$8.00</p>
            <button class="add-to-cart-btn">Add to Cart</button>
        </div>
        <div class="product" data-name="Coffee With Black Milk (Cold)" data-price="14">
            <h3>Coffee With Black Milk (Cold)</h3>
            <p>$14.00</p>
            <button class="add-to-cart-btn">Add to Cart</button>
        </div>
    </section>


    <!-- Cart Section -->
    <section class="cart">
        <h2>Your Coffee Cart</h2>
        <ul id="cart-items">
            <!-- Cart items will be dynamically added here -->
        </ul>
        <div id="cart-total">
            <strong>Total:</strong> $<span id="total-price">0.00</span>
        </div>
        <button id="checkout-btn" type="submit" >Checkout</button>
    </section>

    <script>document.addEventListener('DOMContentLoaded', function () {
    const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
    const cartItemsList = document.getElementById('cart-items');
    const totalElement = document.getElementById('total-price');
    let totalPrice = 0;

    addToCartButtons.forEach(button => {
        button.addEventListener('click', () => {
            const product = button.closest('.product');
            const productName = product.querySelector('h3').textContent;
            const productPrice = parseFloat(product.dataset.price);

            // Update cart
            const cartItem = document.createElement('li');
            cartItem.innerHTML = `${productName} - $${productPrice.toFixed(2)}`;
            cartItemsList.appendChild(cartItem);

            // Update total price
            totalPrice += productPrice;
            totalElement.textContent = totalPrice.toFixed(2);
        });
    });
});
</script>

{% endblock %}
